function [Y,Xf,Af] = auto_enc_g10(X,~,~)
%AUTO_ENC_G10 neural network simulation function.
%
% Generated by Neural Network Toolbox function genFunction, 06-Apr-2017 12:27:36.
% 
% [Y] = auto_enc_g10(X,~,~) takes these arguments:
% 
%   X = 1xTS cell, 1 inputs over TS timesteps
%   Each X{1,ts} = 12xQ matrix, input #1 at timestep ts.
% 
% and returns:
%   Y = 1xTS cell of 1 outputs over TS timesteps.
%   Each Y{1,ts} = 12xQ matrix, output #1 at timestep ts.
% 
% where Q is number of samples (or series) and TS is the number of timesteps.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Layer 1
b1 = [-3.3400105114962319597;-3.5250657955873152538;-3.5445405130539864302;-3.249108194226263624;-3.6866459943636167296;-3.392632463427188938;-3.2681296695364174809;-3.462588309774716766;-3.3771819904721902539;-3.7439288882764336641];
IW1_1 = [0.20529996074013426299 3.6808596552204551067 5.0194447984247112515 0.10539875576534493695 -0.051317276934759514795 0.10488018997260541154 -0.1131199779188707677 -0.092220091181730010077 -0.88447233188063334453 0.41239267382028216291 -0.41725895550794223077 0.51870977531746831346;5.7981738843727104182 0.24213291524955646294 -0.10859847224491596396 0.093092551227069039732 0.64915668032378859298 0.0010379324289601960137 0.096399922916355532121 0.14651757119011057928 -0.31531494489815026228 -0.062774323349752636503 2.3776970806284860593 0.064670671209485774966;0.012460880880129811613 0.69728129093013180295 0.21944584554492724271 0.14868591481601073356 0.31342694306115986835 0.055368701381632176584 5.9673068894698202413 0.33676972475537969576 -0.23803832303625133138 -0.22250863830664305287 1.8861548437467279271 0.13149724795701966951;-0.034394519796205356987 -0.611813866564747455 3.2425322380068770656 0.01229090318790659192 2.3114616464861619249 0.15656187668200718943 0.24703358635124147979 0.12927569454626847145 4.5121166731385260462 -0.83085266472341234856 4.1793323226757337352 -0.063642548093744644166;0.061558235703978239628 0.35870490020660794617 -0.13701559564742352149 5.9736298831179874824 -0.19827278323250063785 0.016888565686511571029 0.12803669837599163106 0.062187280839383983488 0.36771714373852765201 -0.13515335201194958459 0.26817730449695253991 0.096505814638350048695;0.2353221132010826222 4.9448636390719258316 -0.66168943849521721923 -0.090601193561999235349 -0.50158481956951783687 0.24700840476767554899 0.10380676390162843492 0.063053016034458758687 3.9777583080942764404 0.54816244414584514022 -0.11297596956329061801 0.13801068891789453064;0.30590468245566632133 0.27954996967580691969 0.19815792814187963011 0.065511621433676711646 -0.52725568462245497869 0.15024807948357937759 0.36389214752835696842 5.5450235593597909656 0.04807826779445759785 0.19709339189846541984 0.052750675115334710874 0.085323169074141419488;0.5803998689536974398 -0.34250290893340024079 0.21578869365934999491 -0.0086978651205186496842 0.29168693320635569188 0.11754328998499213865 0.42914109125670207856 0.14463099123085834674 2.126630400981807778 0.93899663139313815918 -0.65814998765392762614 5.7006101240973539035;0.28296495472200355881 -0.032482690956389510817 0.34842374539732329231 0.028264311641900932009 -0.31167294018200963901 5.5231950158281728491 0.18333504490482249727 0.15330056252592333399 0.36906500125664948309 0.42494765232996217774 -0.29102493443435828446 0.26133184402516201894;0.0090423291851629786914 0.40572086097250503745 0.039532688765785271856 -0.052495283948144184916 0.50600592684726553028 -0.07751696548121593533 0.099893850530446803848 0.056009070142436938322 -0.35405866038302946652 5.8902081169591919974 4.2933342810818739821 0.044347131427431379924];

% Layer 2
b2 = [-4.9737353484635198342;-5.2762795015550247868;-5.1737853067160850529;-4.8065214968142662144;-5.2375942511641850885;-4.9428428182714361228;-5.078425219002247637;-5.0531555099476053172;-5.1387811847709832236;-4.7686492438385181813;-6.3073704329331814478;-4.8891526358629686655];
LW2_1 = [0.55018021923162463427 8.2062723478549095546 0.044538189461167491945 -0.14237319780143320447 0.051200771807506956224 0.48716043918085105702 0.28907879705464162301 0.32151117470960000055 0.15393874824262468448 -0.27869673417057061471;3.7196725632464673339 0.48136207181610601857 0.71789839152964629587 -2.2366350518066098196 0.22816424037458030161 6.3846411364983728376 0.2639323446317083377 -0.69595949919549515705 -0.18336544922688866044 0.12771995065039523642;6.6710398436634310571 -0.072907591088436807247 0.21033737241458863587 3.1968223420875965246 -0.13093992761435718775 -2.2322978755737508116 -0.068028493654027230586 -0.052068994536939382234 0.26250755548934973094 -0.10410845117887311539;0.1869949052011364854 0.047240051883487663154 0.1002532215505534674 0.12828994738008223098 8.3207060656687268363 -0.27262493148034816492 0.041029581057989053527 0.042812510542689363735 0.036659879600298629632 -0.10196534844789925667;0.040605447462517083035 1.1746672638808586253 0.28213480933576257081 3.8572658339268222072 -0.31616309405120618381 -1.0953205861391432929 -0.67252784024819811659 0.20730394783141589676 -0.57016120702381689611 0.88852007979662683823;0.12205544021775778518 0.015351819108835885672 0.038911446251935093155 0.18858966369019783405 0.037884534496086474942 0.18177980047235942074 0.16061203596708731323 0.32818331419199547883 8.0580564951915736316 -0.14600955763024234257;0.11124198758709259727 0.19138913628870246608 8.1087999374129715591 0.19098521699183404476 0.20468488638752718733 0.48309218415287819015 0.44387601795066006227 0.34096950605171738591 0.13985239533929835765 0.086579057134660519779;0.18780909290709743575 0.27216089413639443784 0.43681304891152283876 -0.067217960111457725203 0.10101283396309636287 0.25515353833086007462 7.7994010281063603784 0.253129625525449653 0.20050150464791913207 -0.066707855522985456953;-2.3937670965356905306 -0.74597913273460103589 -0.56630923459395687836 5.6585354424427700692 0.20312424253092237203 3.9518842579551254346 0.066569513715412823029 1.4107489565571091905 0.34783596421480472705 -1.2561213133535460429;-0.037425717228767946265 -0.88041054286635955783 -0.75669643299025945993 -2.6531389457276737254 -0.21112956121851533808 0.25096921959737922281 0.29045412639491907658 0.69901256863475136338 0.26744053824310415335 8.3576519781756282157;-0.32054741412270149059 1.8944046092739754705 1.0472628137783874802 4.55565818890515839 0.29463443162486185889 -0.78286450254331241272 0.018641370956321238334 -1.5847970993745810198 -0.52003773309813638992 3.3987535688765033726;0.65680042886932732404 -0.26328084449378824639 -0.130392851820864214 -0.54526694585939872173 0.11750821778194113498 -0.1952743047170504842 -0.0045722167172561377704 8.0416712617798982166 0.34486103981131299712 -0.2391321868317938526];

% ===== SIMULATION ========

% Format Input Arguments
isCellX = iscell(X);
if ~isCellX, X = {X}; end;

% Dimensions
TS = size(X,2); % timesteps
if ~isempty(X)
  Q = size(X{1},2); % samples/series
else
  Q = 0;
end

% Allocate Outputs
Y = cell(1,TS);

% Time loop
for ts=1:TS

    % Input 1
    % no processing
    
    % Layer 1
    a1 = logsig_apply(repmat(b1,1,Q) + IW1_1*X{1,ts});
    
    % Layer 2
    a2 = logsig_apply(repmat(b2,1,Q) + LW2_1*a1);
    
    % Output 1
    Y{1,ts} = a2;
end

% Final Delay States
Xf = cell(1,0);
Af = cell(2,0);

% Format Output Arguments
if ~isCellX, Y = cell2mat(Y); end
end

% ===== MODULE FUNCTIONS ========

% Sigmoid Positive Transfer Function
function a = logsig_apply(n,~)
  a = 1 ./ (1 + exp(-n));
end
